<div class="row">&nbsp;</div>
<div class="row">&nbsp;</div>
<div id="linea1" class="row">
    <div class="col-md-12">
        <div class="col-md-1">
            <div class="input-group">
              <span class="input-group-btn">
                <button class="btn btn-success" ng-click="aldatuastea(-7)"><span
                        class="glyphicon glyphicon-chevron-left"></span></button>
                <button class="btn btn-default" datepicker-popup="{{format}}" name="dt" ng-model="dt"
                        is-open="datepickers.dt" datepicker-options="dateOptions" ng-required="true" close-text="Close"
                        ng-click="open($event,'dt')" ng-change="selectDate(dt)"><i
                        class="glyphicon glyphicon-calendar"></i></button>
              </span>
            </div>
        </div>
        <span us-spinner spinner-key="spinner-1"></span>
        <div class="col-md-10 scrolla">
            <div id="scroller">
                <table class="table table-condensed">
                    <thead>
                    <tr>
                        <th>Semana {{ astea }}</th>
                        <th class="text-center" ng-model="eguna1">{{ eguna1 | date : 'yyyy/MM/dd'}} <br /> Lunes</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna2">{{ eguna2 | date : 'yyyy/MM/dd'}} <br /> Martes</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna3">{{ eguna3 | date : 'yyyy/MM/dd'}} <br /> Miercoles</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna4">{{ eguna4 | date : 'yyyy/MM/dd'}} <br /> Jueves</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna5">{{ eguna5 | date : 'yyyy/MM/dd'}} <br /> Viernes</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna6">{{ eguna6 | date : 'yyyy/MM/dd'}} <br /> Sabado</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna7">{{ eguna7 | date : 'yyyy/MM/dd'}} <br /> Domingo</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-controller="linea1Controller">
                        <td class="tdlinea">Siplace</td>
                        <td ng-repeat="egunak in datuak">
                            <table class="table text-center table-condensed">
                                <thead>
                                <th>Mañana</th>
                                <th>Tarde</th>
                                <th>Noche</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <table class="erdikotabla">
                                                <tr ng-repeat="turnos in egunak.linea1">
                                                    <td>
                                                        <table class="azkentabla">
                                                            <tbody>
                                                            <tr ng-repeat="orden in turnos.ordenes" ng-if="turnos.turno==1" style="border:0px solid #000000">
                                                                <td style="border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" tooltip-html-unsafe="{{arraton}}">

                                                                    <span ng-if="orden.badutstock == 1" class="badge glyphicon glyphicon-fire">OJO!</span>
                                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                            data-fetxa="{{egunak.fetxa}}"
                                                                            data-turno="1"
                                                                            data-linea="1"
                                                                            editable-text="orden.ref"
                                                                            e-form="textBtnForm" 
                                                                            ng-dblclick="textBtnForm.$show()"
                                                                            
                                                                            ng-click="grafikoa(orden.ref); arraton(orden.ref);"
                                                                            ng-if="isadmin"
                                                                            ng-bind-html="orden.ref"
                                                                            onbeforesave="updateUser($data, this)"></span>

                                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          ng-if="!isadmin"
                                                                          ng-click="grafikoa(orden.ref)"
                                                                          ng-bind-html="orden.ref"
                                                                          ></span>
                                                                </td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                                <tr ng-show="isadmin">
                                                    <td>
                                                        <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                data-fetxa="{{egunak.fetxa}}"
                                                                data-turno="1"
                                                                data-linea="1"
                                                                editable-text="orden.ref"
                                                                onbeforesave="addData($data, this)">+</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td>
                                            <table class="erdikotabla">
                                                <tr ng-repeat="turnos in egunak.linea1">
                                                    <td>
                                                        <table class="azkentabla">
                                                            <tbody>
                                                            <tr ng-repeat="orden in turnos.ordenes" ng-if="turnos.turno==2" style="border:0px solid #000000">
                                                                <td style="border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" tooltip-html-unsafe="{{arraton}}">
                                                                    <span ng-if="orden.badutstock == 1" class="badge glyphicon glyphicon-fire">OJO!</span>
                                                                        <!--<span ng-style="{color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important; }" data-miid="{{ egunak._id }}"-->
                                                                        <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                              data-fetxa="{{egunak.fetxa}}"
                                                                              data-turno="2"
                                                                              data-linea="1"
                                                                              editable-text="orden.ref"
                                                                              e-form="textBtnForm" ng-dblclick="textBtnForm.$show()"
                                                                              
                                                                              ng-click="grafikoa(orden.ref); arraton(orden.ref);"
                                                                              ng-if="isadmin"
                                                                              ng-bind-html="orden.ref"
                                                                              onbeforesave="updateUser($data, this)"></span>
                                                                        <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          ng-if="!isadmin"
                                                                          ng-click="grafikoa(orden.ref)"
                                                                          ng-bind-html="orden.ref"
                                                                          ></span>

                                                                </td>
                                                            </tr>
                                                            <!--<tr><td ng-if="turnos.turno==2">+</td></tr>-->
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                                <tr ng-show="isadmin">
                                                    <td>
                                                        <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                            data-fetxa="{{egunak.fetxa}}"
                                                            data-turno="2"
                                                            data-linea="1"
                                                            editable-text="orden.ref"
                                                            onbeforesave="addData($data, this)">+</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td>
                                            <table class="erdikotabla">
                                                <tr ng-repeat="turnos in egunak.linea1">
                                                    <td>
                                                        <table class="azkentabla">
                                                            <tbody>
                                                            <tr ng-repeat="orden in turnos.ordenes" ng-if="turnos.turno==3" style="border:0px solid #000000">
                                                                <td style="border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" tooltip-html-unsafe="{{arraton}}">
                                                                    <span ng-if="orden.badutstock == 1" class="badge glyphicon glyphicon-fire">OJO!</span>

                                                                        <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                              data-fetxa="{{egunak.fetxa}}"
                                                                              data-turno="3"
                                                                              data-linea="1"
                                                                              editable-text="orden.ref"
                                                                              e-form="textBtnForm" ng-dblclick="textBtnForm.$show()"
                                                                              
                                                                              ng-click="grafikoa(orden.ref); arraton(orden.ref);"
                                                                              ng-if="isadmin"
                                                                              ng-bind-html="orden.ref"
                                                                              onbeforesave="updateUser($data, this)"></span>
                                                                        <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          ng-if="!isadmin"
                                                                          ng-click="grafikoa(orden.ref)"
                                                                          ng-bind-html="orden.ref"
                                                                          ></span>
                                                                </td>
                                                            </tr>
                                                            <!--<tr><td ng-if="turnos.turno==3">+</td></tr>-->
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                                <tr ng-show="isadmin">
                                                    <td>
                                                        <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                          data-fetxa="{{egunak.fetxa}}"
                                                          data-turno="3"
                                                          data-linea="1"
                                                          editable-text="orden.ref"
                                                          onbeforesave="addData($data, this)">+</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr ng-controller="linea2Controller">
                        <td class="tdlinea">Assembleon </td>
                        <td ng-repeat="egunak in datuak">
                            <table class="table text-center table-condensed">
                                <thead>
                                <th>Mañana</th>
                                <th>Tarde</th>
                                <th>Noche</th>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <table class="erdikotabla">
                                            <tr ng-repeat="turnos in egunak.linea2">
                                                <td>
                                                    <table class="azkentabla">
                                                        <tbody>
                                                        <tr ng-repeat="orden in turnos.ordenes" ng-if="turnos.turno==1" style="border:0px solid #000000">
                                                            <td style="border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" tooltip-html-unsafe="{{arraton}}">
                                                                <span ng-if="orden.badutstock == 1" class="badge glyphicon glyphicon-fire">OJO!</span>

                                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          data-fetxa="{{egunak.fetxa}}"
                                                                          data-turno="1"
                                                                          data-linea="2"
                                                                          editable-text="orden.ref"
                                                                          e-form="textBtnForm" ng-dblclick="textBtnForm.$show()"
                                                                          
                                                                          ng-click="grafikoa(orden.ref); arraton(orden.ref);"
                                                                            ng-if="isadmin"
                                                                          ng-bind-html="orden.ref"
                                                                          onbeforesave="updateUser($data, this)"></span>
                                                                <!--<span ng-bind-html="orden.ref"></span>-->
                                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          ng-if="!isadmin"
                                                                          ng-click="grafikoa(orden.ref)"
                                                                          ng-bind-html="orden.ref"
                                                                          ></span>

                                                            </td>
                                                        </tr>
                                                        <!--<tr><td ng-if="turnos.turno==1">+</td></tr>-->
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr ng-show="isadmin">
                                                <td>
                                                        <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                              data-fetxa="{{egunak.fetxa}}"
                                                              data-turno="1"
                                                              data-linea="2"
                                                              editable-text="orden.ref"
                                                              onbeforesave="addData($data, this)">+</span>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <td>
                                        <table class="erdikotabla">
                                            <tr ng-repeat="turnos in egunak.linea2">
                                                <td>
                                                    <table class="azkentabla">
                                                        <tbody>
                                                        <tr ng-repeat="orden in turnos.ordenes" ng-if="turnos.turno==2" style="border:0px solid #000000">
                                                            <td  style="border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" tooltip-html-unsafe="{{arraton}}">
                                                                <span ng-if="orden.badutstock == 1" class="badge glyphicon glyphicon-fire">OJO!</span>

                                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          data-fetxa="{{egunak.fetxa}}"
                                                                          data-turno="2"
                                                                          data-linea="2"
                                                                          editable-text="orden.ref"
                                                                          e-form="textBtnForm" ng-dblclick="textBtnForm.$show()"
                                                                          
                                                                          ng-click="grafikoa(orden.ref); arraton(orden.ref);"
                                                                            ng-if="isadmin"
                                                                          ng-bind-html="orden.ref"
                                                                          onbeforesave="updateUser($data, this)"></span>

                                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          ng-if="!isadmin"
                                                                          ng-click="grafikoa(orden.ref)"
                                                                          ng-bind-html="orden.ref"
                                                                          ></span>

                                                            </td>
                                                        </tr>
                                                        <!--<tr><td ng-if="turnos.turno==2">+</td></tr>-->
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr ng-show="isadmin">
                                                <td>
                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                          data-fetxa="{{egunak.fetxa}}"
                                                          data-turno="2"
                                                          data-linea="2"
                                                          editable-text="orden.ref"
                                                          onbeforesave="addData($data, this)">+</span>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <td>
                                        <table class="erdikotabla">
                                            <tr ng-repeat="turnos in egunak.linea2">
                                                <td>
                                                    <table class="azkentabla">
                                                        <tbody>
                                                        <tr ng-repeat="orden in turnos.ordenes" ng-if="turnos.turno==3" style="border:0px solid #000000">
                                                            <td style="border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" tooltip-html-unsafe="{{arraton}}">
                                                                <span ng-if="orden.badutstock == 1" class="badge glyphicon glyphicon-fire">OJO!</span>

                                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          data-fetxa="{{egunak.fetxa}}"
                                                                          data-turno="3"
                                                                          data-linea="2"
                                                                          editable-text="orden.ref"
                                                                          e-form="textBtnForm" ng-dblclick="textBtnForm.$show()"
                                                                          
                                                                          ng-click="grafikoa(orden.ref); arraton(orden.ref);"
                                                                            ng-if="isadmin"
                                                                          ng-bind-html="orden.ref"
                                                                          onbeforesave="updateUser($data, this)"></span>

                                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                                          ng-if="!isadmin"
                                                                          ng-click="grafikoa(orden.ref)"
                                                                          ng-bind-html="orden.ref"
                                                                          ></span>

                                                            </td>
                                                        </tr>
                                                        <!--<tr><td ng-if="turnos.turno==3">+</td></tr>-->
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr ng-show="isadmin">
                                                <td>
                                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')" data-miid="{{ egunak._id }}"
                                                          data-fetxa="{{egunak.fetxa}}"
                                                          data-turno="3"
                                                          data-linea="2"
                                                          editable-text="orden.ref"
                                                          onbeforesave="addData($data, this)">+</span>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr>

                                </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </table>

            </div>
            <!-- scroller -->


        </div>
        <div class="col-md-1">
            <div class="input-group">
              <span class="input-group-btn">
                <button class="btn btn-success" ng-click="aldatuastea(7)"><span
                        class="glyphicon glyphicon-chevron-right"></span></button>
              </span>
            </div>
        </div>
    </div>
</div>

<div class="row" style="display: visible;">
    {{ charData }}
    <highchart id="chart1" config="chartConfig" class="span10"></highchart>
    }
</div>