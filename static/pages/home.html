<div class="row">
    <div class="row">
        <div class="col-xs-6 col-sm-4">
            <div class="row">
              <div class="panel panel-default">
                <p>Mostrar/Ocultar:</p>
                <ul class="list-unstyled">
                    <li><input type="checkbox" ng-model="vlinea1" >Siplace</li>
                    <li><input type="checkbox" ng-model="vlinea2" >Assembleon</li>
                    <li><input type="checkbox" ng-model="vlinea3" >Montaje y Repaso</li>
                    <li><input type="checkbox" ng-model="vweekend" >Fin de semana</li>
                </ul>
              </div>
            </div>
        </div>
        <div class="col-xs-6 col-sm-4">
            <div class="row">
              <div class="panel panel-default">
                <ul class="list-group">
                    <li class="list-group-item list-group-item-success"><span class="badge">{{ cantafabricar }}</span>A Fabricar:  </li>
                    <li class="list-group-item list-group-item-info"><span class="badge">{{ cantiniciada }}</span>Iniciada:  </li>
                    <li class="list-group-item list-group-item-warning"><span class="badge">{{ cantfabricada }}</span>Fabricada:  </li>
                </ul>
              </div>
            </div>
        </div>
        <!-- Optional: clear the XS cols if their content doesn't match in height -->
        <div class="clearfix visible-xs-block"></div>
        <div class="col-xs-6 col-sm-4"></div>
    </div>
</div>
<div id="linea1" class="row">
    <div class="col-md-12">
        <div class="col-md-1">
            <div class="input-group">
              <span class="input-group-btn">
                <button class="btn btn-success" ng-click="aldatuastea(-7)"><span
                        class="glyphicon glyphicon-chevron-left"></span></button>
                <button class="btn btn-default" datepicker-popup="{{format}}" name="dt" ng-model="dt"
                        is-open="datepickers.dt" datepicker-options="dateOptions" ng-required="true" close-text="Close"
                        ng-click="open($event,'dt')" ng-change="selectDate(dt)"><i
                        class="glyphicon glyphicon-calendar"></i></button>
              </span>
            </div>
        </div>
        <span us-spinner spinner-key="spinner-1"></span>
        <div class="col-md-10 scrolla">
            <div id="scroller">
                <table class="table text-center table-condensed">
                    <thead>
                    <tr>
                        <th>Semana {{ astea }}</th>
                        <th class="text-center" ng-model="eguna1">{{ eguna1 | date : 'yyyy/MM/dd'}} <br /> Lunes</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna2">{{ eguna2 | date : 'yyyy/MM/dd'}} <br /> Martes</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna3">{{ eguna3 | date : 'yyyy/MM/dd'}} <br /> Miercoles</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna4">{{ eguna4 | date : 'yyyy/MM/dd'}} <br /> Jueves</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna5">{{ eguna5 | date : 'yyyy/MM/dd'}} <br /> Viernes</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna6" ng-if="vweekend==true">{{ eguna6 | date : 'yyyy/MM/dd'}} <br /> Sabado</th>
                        <!-- <th class="text-center">&nbsp;</th> -->
                        <th class="text-center" ng-model="eguna7" ng-if="vweekend==true">{{ eguna7 | date : 'yyyy/MM/dd'}} <br /> Domingo</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-controller="linea1Controller" ng-if="vlinea1==true">
                        <td class="tdlinea">Siplace</td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,1,eguna1)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna1" ng-repeat="orden in asteeguna1"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style="border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>

                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="1"
                                        data-orden="{{orden.orden}}"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>

                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                          data-miid="{{ orden.id }}"
                                          ng-if="!isadmin"
                                          ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                          ng-bind-html="orden.ref"
                                    ></span>

                                        <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna1}}"
                                data-linea="1"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,1,eguna2)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna2" ng-repeat="orden in asteeguna2"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="1"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div> <!-- box-of -->
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>

                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                            data-miid="{{ orden.id }}"
                                            ng-if="!isadmin"
                                            ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                            ng-bind-html="orden.ref"

                                            ></span>
                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div>
                            <div
                                data-fetxa="{{eguna2}}"
                                data-linea="1"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,1,eguna3)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna3" ng-repeat="orden in asteeguna3"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="1"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>
                                        <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna3}}"
                                data-linea="1"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,1,eguna4)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna4" ng-repeat="orden in asteeguna4"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="1"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna4}}"
                                data-linea="1"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,1,eguna5)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna5" ng-repeat="orden in asteeguna5"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="1"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna5}}"
                                data-linea="1"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,1,eguna6)" ng-if="vweekend==true">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna6" ng-repeat="orden in asteeguna6"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="1"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna6}}"
                                data-linea="1"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,1,eguna7)" ng-if="vweekend==true">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna7" ng-repeat="orden in asteeguna7"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="1"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna7}}"
                                data-linea="1"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                    </tr>

                    <tr ng-controller="linea2Controller" ng-if="vlinea2==true">
                        <td class="tdlinea">Assembleon </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,2,eguna1)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna1" ng-repeat="orden in asteeguna1"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">
                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="2"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna1}}"
                                data-linea="2"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,2,eguna2)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna2" ng-repeat="orden in asteeguna2"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="2"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna2}}"
                                data-linea="2"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,2,eguna3)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna3" ng-repeat="orden in asteeguna3"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="2"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna3}}"
                                data-linea="2"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,2,eguna4)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna4" ng-repeat="orden in asteeguna4"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="2"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna4}}"
                                data-linea="2"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,2,eguna5)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna5" ng-repeat="orden in asteeguna5"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="2"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna5}}"
                                data-linea="2"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,2,eguna6)" ng-if="vweekend==true">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna6" ng-repeat="orden in asteeguna6"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="2"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna6}}"
                                data-linea="2"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,2,eguna7)" ng-if="vweekend==true">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna7" ng-repeat="orden in asteeguna7"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="2"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna7}}"
                                data-linea="2"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                    </tr>

                    <tr ng-controller="linea3Controller" ng-if="vlinea3==true">
                        <td class="tdlinea">Montaje y repaso </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,3,eguna1)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna1" ng-repeat="orden in asteeguna1"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="3"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna1}}"
                                data-linea="3"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,3,eguna2)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna2" ng-repeat="orden in asteeguna2"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="3"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>
                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna2}}"
                                data-linea="3"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,3,eguna3)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna3" ng-repeat="orden in asteeguna3"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">
                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="3"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>
                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna3}}"
                                data-linea="3"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,3,eguna4)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna4" ng-repeat="orden in asteeguna4"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="3"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna4}}"
                                data-linea="3"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,3,eguna5)">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna5" ng-repeat="orden in asteeguna5"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="3"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna5}}"
                                data-linea="3"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,3,eguna6)" ng-if="vweekend==true">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna6" ng-repeat="orden in asteeguna6"
                                 ng-style="!isadmin && { height: (50 * orden.numhoras) + 'px' }"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="3"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>

                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>

                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna6}}"
                                data-linea="3"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                        <td class="asteeguna" ui-on-Drop="onDrop($event,$data,3,eguna7)" ng-if="vweekend==true">
                            <div class="boxnumhoras box-of" ng-class="whatClassIsIt(orden.amaituta)" ng-model="asteeguna7" ng-repeat="orden in asteeguna7"
                                 style=" border:1px solid #000000; padding:3px;background-color: {{ users | searchByRefBackcolor : 'ref' : orden.ref }} !important; color:{{ users | searchByRefForecolor : 'ref' : orden.ref }} !important;" >

                                <span ng-if="orden.badutstock == 0" class="badge glyphicon glyphicon-fire">OJO!</span>
                                <div ui-draggable="true" drag="orden" ng-if="isadmin"  on-drop-success="dropSuccessHandler($event,$index,orden)">

                                    <div class="divorden divdenbora" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denbora" onbeforesave="updateDenbora($data, this)" >Inicio:{{orden.denbora}}</div>
                                    <div class="divorden divdenborafin" ng-if="isadmin" data-miid="{{ orden._id }}" editable-text="orden.denborafin" onbeforesave="updateDenboraFin($data, this)" >Fin:{{orden.denborafin}}</div>
                                    <span
                                        data-miid="{{ orden._id }}"
                                        data-fetxa="{{orden.fetxa}}"
                                        data-turno="1"
                                        data-linea="3"
                                        editable-text="orden.ref"
                                        e-form="textBtnForm"
                                        ng-dblclick="textBtnForm.$show()"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-if="isadmin"
                                        ng-bind-html="orden.ref"
                                        onbeforesave="updateUser($data, this)"></span>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.orden"
                                         onbeforesave="updateOrden($data, this)" >#{{orden.orden}}
                                    </div>

                                    <div class="divorden" ng-if="isadmin" data-miid="{{ orden._id }}"
                                         editable-text="orden.numhoras"
                                         onbeforesave="updateHoras($data, this)" >horas:{{orden.numhoras}}
                                    </div>

                                </div>
                                <div>
                                    <div class="flex" ng-if="!isadmin && (orden.denbora || orden.numhoras)">
                                        <div class="divhoraini" ng-if="!isadmin && orden.denbora">{{orden.denbora}}</div>
                                        <div class="divnumhoras" ng-if="!isadmin && orden.numhoras">{{orden.numhoras}}h</div>
                                    </div>
                                    <span ng-style="set_color('{{ users | searchByRefForecolor : 'ref' : orden.ref }}')"
                                        data-miid="{{ orden.id }}"
                                        ng-if="!isadmin"
                                        ng-click="grafikoa(orden.ref);arraton(orden.ref);"
                                        ng-bind-html="orden.ref"

                                        ></span>
                                    <div class="divorden" ng-if="!isadmin && orden.denborafin">Hora fin:{{orden.denborafin}}</div>
                                </div>
                            </div> <!-- box-of -->
                            <div
                                data-fetxa="{{eguna7}}"
                                data-linea="3"
                                ng-if="isadmin"
                                editable-text="orden.ref"
                                onbeforesave="addData($data, this)">+</div>
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-md-1">
            <div class="input-group">
              <span class="input-group-btn">
                <button class="btn btn-success" ng-click="aldatuastea(7)">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                </button>
              </span>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <highchart id="chart1" config="chartConfig" class="span10"></highchart>
</div>